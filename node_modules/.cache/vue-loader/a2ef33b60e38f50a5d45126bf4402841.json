{"remainingRequest":"/Users/baloulee/Desktop/github/crud/crud_nestor_v1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/baloulee/Desktop/github/crud/crud_nestor_v1/src/views/UserList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/baloulee/Desktop/github/crud/crud_nestor_v1/src/views/UserList.vue","mtime":1603993039625},{"path":"/Users/baloulee/Desktop/github/crud/crud_nestor_v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/baloulee/Desktop/github/crud/crud_nestor_v1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/baloulee/Desktop/github/crud/crud_nestor_v1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/baloulee/Desktop/github/crud/crud_nestor_v1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRiIH0gZnJvbSAiLi4vZmlyZWJhc2VEYiI7CgpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIFVzZXJzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpLm9uU25hcHNob3Qoc25hcHNob3RDaGFuZ2UgPT4gewogICAgICB0aGlzLlVzZXJzID0gW107CiAgICAgIHNuYXBzaG90Q2hhbmdlLmZvckVhY2goZG9jID0+IHsKICAgICAgICB0aGlzLlVzZXJzLnB1c2goewogICAgICAgICAga2V5OiBkb2MuaWQsCiAgICAgICAgICBpZDogZG9jLmRhdGEoKS5pZCwKICAgICAgICAgIGZpcnN0bmFtZTogZG9jLmRhdGEoKS5maXJzdG5hbWUsCiAgICAgICAgICBsYXN0bmFtZTogZG9jLmRhdGEoKS5sYXN0bmFtZSwKICAgICAgICAgIHBob25lOiBkb2MuZGF0YSgpLnBob25lLAogICAgICAgICAgYmlydGhkYXk6IGRvYy5kYXRhKCkuYmlydGhkYXksCiAgICAgICAgICBuYXRpb25hbGl0eTogZG9jLmRhdGEoKS5uYXRpb25hbGl0eQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlVXNlcihpZCkgewogICAgICBpZiAod2luZG93LmNvbmZpcm0oIkRvIHlvdSByZWFsbHkgd2FudCB0byBkZWxldGU/IikpIHsKICAgICAgICBkYi5jb2xsZWN0aW9uKCJ1c2VycyIpCiAgICAgICAgICAuZG9jKGlkKQogICAgICAgICAgLmRlbGV0ZSgpCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJEb2N1bWVudCBkZWxldGVkISIpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["UserList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UserList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"col-md-12 col-lg-12 col-xs-12\">\n      <h1>List of users</h1>\n      <table class=\"table table-striped\">\n        <thead>\n          <tr>\n            <th>Id</th>\n            <th>firstname</th>\n            <th>Lastname</th>\n            <th>Phone</th>\n            <th>Birthday</th>\n            <th>Nationality</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr v-for=\"user in Users\" :key=\"user.key\">\n            <td>{{ user.id }}</td>\n            <td>{{ user.firstname }}</td>\n            <td>{{ user.lastname }}</td>\n            <td>{{ user.phone }}</td>\n            <td>{{ user.birthday }}</td>\n            <td>{{ user.nationality }}</td>\n            <td class=\"button\">\n              <router-link\n                :to=\"{name: 'edituser', params: { id: user.key }}\"\n                class=\"btn btn-primary\"\n              >Edit</router-link>\n              <button @click.prevent=\"deleteUser(user.key)\" class=\"btn btn-danger\">Delete</button>\n              <router-link\n                :to=\"{name: 'detailuser', params: { id: user.key }}\"\n                class=\"btn btn-info\"\n              >Details</router-link>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { db } from \"../firebaseDb\";\n\nexport default {\n  data() {\n    return {\n      Users: []\n    };\n  },\n  created() {\n    db.collection(\"users\").onSnapshot(snapshotChange => {\n      this.Users = [];\n      snapshotChange.forEach(doc => {\n        this.Users.push({\n          key: doc.id,\n          id: doc.data().id,\n          firstname: doc.data().firstname,\n          lastname: doc.data().lastname,\n          phone: doc.data().phone,\n          birthday: doc.data().birthday,\n          nationality: doc.data().nationality\n        });\n      });\n    });\n  },\n  methods: {\n    deleteUser(id) {\n      if (window.confirm(\"Do you really want to delete?\")) {\n        db.collection(\"users\")\n          .doc(id)\n          .delete()\n          .then(() => {\n            console.log(\"Document deleted!\");\n          })\n          .catch(error => {\n            console.error(error);\n          });\n      }\n    }\n  }\n};\n</script>\n\n<style scope>\n.button {\n  text-align: center;\n}\n\n.btn {\n  margin-right: 12px;\n  margin-left: 12px;\n}\n.container {\n  padding-top: 70px;\n}\n\nh1 {\n  text-align: center;\n}\n</style>\n\n"]}]}